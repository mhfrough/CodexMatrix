<div class="main-content-container container-fluid px-4">
  <!-- Page Header -->
  <div class="page-header row no-gutters py-4">
    <div class="col-lg-8 offset-lg-2 col-sm-4 text-center text-sm-left mb-0">
      <span class="text-uppercase page-subtitle">Assign Task</span>
      <h3 class="page-title">Assign a new task</h3>
      <hr />
    </div>
  </div>
  <!-- End Page Header -->
  <div class="row">
    <div class="col-lg-8 offset-lg-2">


      <form role="form" [formGroup]="rForm" (ngSubmit)="onSubmit(rForm.value)">
        <fieldset>

          <div class="col-lg-12">

            <label class="formLabel">Task assignment</label>
            <strong class="text-muted d-block mb-2"><small>This is where task is being assign to employee. </small>
            </strong>
            <br />

            <div class="form-group" *ngIf="app.isSoftwareHouse">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="customSelect01">Department</label>
                </div>
                <select class="form-control" formControlName="deptId" (change)="deptHandle($event.target.value)">
                  <option></option>
                  <option *ngFor="let item of dept.deptList" value="{{item.id}}">
                    {{item.name}}
                  </option>
                </select>
              </div>
              <small class="alertMessage" *ngIf="!rForm.controls['deptId'].valid && rForm.controls['deptId'].touched">
                  Department field is required
                </small>
            </div>

            <div class="form-group" *ngIf="app.isSoftwareHouse">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="customSelect01">Project</label>
                </div>
                <select class="form-control" formControlName="projId" (change)="onChange($event.target.value)">
                  <option></option>
                  <option *ngFor="let item of proj.projList" value="{{item.id}}">
                    {{item.name}}
                  </option>
                </select>
              </div>
              <small class="alertMessage" *ngIf="!rForm.controls['projId'].valid && rForm.controls['projId'].touched">
                  Project field is required
                </small>
            </div>


            <div class="form-group">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="customSelect01">Task</label>
                </div>
                <select class="form-control" formControlName="taskId">
                  <option></option>

                  <option *ngFor="let item of task.taskList" value="{{item.id}}">
                    {{item.name}}
                  </option>
                </select>
              </div>
              <small class="alertMessage" *ngIf="!rForm.controls['taskId'].valid && rForm.controls['taskId'].touched">
                  Task field is required
                </small>
            </div>

            <!-- <div class="form-group">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="customSelect01">Given By</label>
                </div>
                <select class="form-control" formControlName="givenBy">
                  <option *ngFor="let item of emp.allEmpList" value="{{item.id}}">
                    {{item.name}}
                  </option>
                </select>
              </div>
            </div> -->


            <div class="form-group">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="customSelect01">Given To</label>
                </div>
                <select class="form-control" formControlName="givenTo">
                  <option *ngFor="let item of emp.allEmpList" value="{{item.id}}">
                    {{item.name}}
                  </option>
                </select>
              </div>
              <small class="alertMessage" *ngIf="!rForm.controls['givenTo'].valid && rForm.controls['givenTo'].touched">
                  Assigned task field is required
                </small>
            </div>

          </div>

          <div class="col-lg-12">
            <hr /><br />
            <button type="submit" id="submit" class="mb-2 btn btn-primary mr-1  btn-block" [disabled]="!rForm.valid">Assign
              Task</button>
            <button type="reset" class="mb-2 btn btn-link mr-1 srh-btn btn-block" (click)="app.reset()">Cancel
              This Assignment</button>
          </div>

        </fieldset>
      </form>

    </div>
  </div>

</div>